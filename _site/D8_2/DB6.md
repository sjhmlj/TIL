## 데이터 모델링

: 조직의 정보 수집과 관리 시스템을 정의하는 시각적 표현 또는 청사진을 생성하는 프로세스. 

- 이 청사진은 데이터 분석자, 과학자, 엔지니어와 같은 다양한 이해관계자들이 조직의 데이터에 대한 통일된 개념을 생성할 수 있게 돕는다. 
- 해당 비즈니스가 수집하는 데이터, 서로 다른 데이터 세트 사이의 관계, 데이터를 저장하고 분석하는 데 사용되는 방식을 설명

## 데이터 모델의 세 가지 유형

#### 1.  개념적 데이터 모델 (도메인 모델)

- 시스템에 들어 있는 데이터
- 데이터 속성 및 데이터에 대한 조건 
- 데이터와 관련된 비즈니스 규칙
- 최고의 데이터 구성 방법
- 보안 및 데이터 무결성 요구 사항

```text
큰그림이라고 생각해라. 

공식 데이터 모델링 규칙을 따르지 않는 간단한 다이어그램 표현이다. 중요한 점은 기술 및 비기술 이해관계자가 공통의 비전을 공유하고 데이터 프로젝트의 목적, 범위 및 설계에 대해 의견 일치를 보는 데 개념적 모델이 도움이 된다는 것이다. 
```



#### 2.  논리적 데이터 모델

- 다양한 속성의 데이터 유형
- 데이터 엔터티 간의 관계
- 데이터의 기본 속성 또는 키 필드

```text
논리적 데이터 모델은 개념적 데이터 클래스를 기술적 데이터 구조에 매핑한다. 

데이터 아키텍터와 분석가는 협업을 통해 논리적 데이터 모델을 만든다. 이들은 표현을 생성하기 위해 여러 공식 데이터 모델링 시스템 중 하나를 따른다. 

논리적 모델은 개념적 데이터 모델과 개발자가 데이터베이스를 만드는 데 사용하는 기본 기술 및 데이터베이스 언어 사이의 다리 역할을 한다. 논리적 모델은 기술에 구애받지 않으며 모든 데이터베이스 언어로 구현할 수 있다. 
데이터 엔지니어와 이해관계자는 일반적으로 논리적 데이터 모델을 만든 후 기술 결정을 내린다. 
```



#### 3.  물리적 데이터 모델

- DBMS에 표현된 데이터 필드 유형
- DBMS에 표현된 데이터 관계
- 성능 조정과 같은 추가 세부 정보

```text
논리적 데이터 모델을 특정 DBMS 기술에 매핑하고 소프트웨어의 용어를 사용한다. 

데이터 엔지니어는 최종 설계 구현 전에 물리적 모델을 만든다. 똫나 공식 데이터 모델링 기술을 따라 설계의 모든 측면을 다뤘는지 확인한다. 
```



## 데이터 모델링 프로세스

1. 엔터티 및 해당 속성 식별  : 	데이터 모델의 모든 엔터티를 식별한다. 각 엔터티는 다른 모든 엔터티와 논리적으로 구별되어야 하며 사람, 장소, 사물 개념 또는 이벤트를 나타낼 수 있다. 
2. 엔터티 간의 관계 식별 :    서로 다른 엔터티 간의 관계가 데이터 모델링의 핵심이다. 
3. 데이터 모델링 기법 식별 :    엔터티와 해당 관계를 개념적으로 이해한 후 사용 사례에 가장 적합한 데이터 모델링 기술을 결정한다. 예를 들어 정형 데이터에는 관계형 데이터 모델링을 사용하고 비정형 데이터에는 차원 데이터 모델링을 사용할 수 있다. 
4. 최적화 및 반복 :    기술 및 성능 요구 사항에 맞게 데이터 모델을 더 최적화할 수 있다. 

```text
시간 경과에 따라 기술과 요구 사항이 변경됨에 따라 일반적으로 이러한 단계를 반복적으로 밟게 된다. 
```





## ERD(Entity Relation Diagram) - 개체 관계 모델

#### 용어

- Entity : 업무가 관여하는 정보
- Attribute : 엔터티가 가지는 성격, 데이터 타입과 크기 및 제약사항 지정
- Relationship : Entity 간의 관계, 연관성

https://app.diagrams.net/ : 다이어그램 실습 할 수 있는 곳. 

#### 관계

- Cardinality : 수적 관계

  ```text
  1 : 1    # A는 B를 하나 가진다. B는 A를 하나 가진다.
  1 : N		 # A는 B를 여러 개 가진다. B는 A의 하나에 해당한다.  
  M : N		 # A는 B를 여러 개 가진다. B는 A를 여러 개 가진다.	
  ```

- Optionaliy 

  ```text
  (1) 필수
  (0) 선택
  ```

- Crow's feet![스크린샷 2022-08-23 오후 8.36.22](DB6.assets/스크린샷 2022-08-23 오후 8.36.22.png)

  - 동아리와 학생 테이블의 관계는 M:N이 될 수 있는데, 이를 erd로 나타내기 위해서는 동아리_학생 테이블을 새로 만들어서 M :N 의 관계를 1:N , N : 1 두 개로 나누는 것이 필요하다. 

## 정규화

: 관계형 데이터베이스의 설계에서 중복을 최소화하게 데이터를 구조화하는 프로세스이다. 

- 데이터베이스 정규화의 목표는 이상이 있는 관계를 재구성하여 작고 잘 조직된 관계를 생성하는 것에 있다. 일반적으로 정규화란 크고, 제대로 조직되지 않은 테이블들과 관계들을 작고 잘 조직된 테이블과 관계들로 나누는 것을 포함한다. 

### 종류(6까지 있다.)

- 제1정규화 : 도메인 원자값.  	테이블의 컬럼이 원자값(하나의 값)을 갖도록 테이블을 분해하는 것이다. 

  `한 속성에 여러 개의 속성이 포함, 같은 유형의 속성이 여러 개로 나눠져 있는 경우 제거`

- 제2정규화 : 부분적 함수 종속성 제거.      제1정규화를 진행한 테이블에 대해 완전 함수 종속을 만족하도록 테이블을 분해하는 것이다. 완전 함수 종속이란 기본키의 부분집합이 결정자가 되어선 안된다는 것을 의미한다. 

  `PK가 아닌 모든 칼럼은 PK에 종속되도록 구성`

- 제3정규화 : 이행적 함수 종속성 제거(X -> Y, Y -> Z)

  `일반 속성 간의 함수 종속 관계가 존재하지 않아야 함`



```text
좀 어렵다. 위키백과 예시를 보면 대강 이해가 간다. 
```



#### 실습

```text
Q. 각각의 테이블은 어떤 컬럼을 가지고 있어야 하나?
Q. FK는 어떻게 써야 하나?


```

``` text
## 밑의 joeylee.log에서 

1. 요구사항 분석하기

2. 개체(Entity)와 속성(Attribute) 추출하기

3. 개체 간의 관계 추출하기

4. ERD 작성

단계를 따랐다. 꽤 좋아 보인다. 
```



---

강의자료

[아마존~](https://aws.amazon.com/ko/what-is/data-modeling/#:~:text=%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EB%AA%A8%EB%8D%B8%EB%A7%81%EC%9D%80%20%EC%A1%B0%EC%A7%81%EC%9D%98,%ED%95%A0%20%EC%88%98%20%EC%9E%88%EA%B2%8C%20%EB%8F%95%EC%8A%B5%EB%8B%88%EB%8B%A4.)

[망나니개발자](https://mangkyu.tistory.com/110)

[위키백과](https://ko.wikipedia.org/wiki/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4_%EC%A0%95%EA%B7%9C%ED%99%94)

[codeDragon ](https://codedragon.tistory.com/4187)



[joeylee.log](https://velog.io/@jcinsh/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%8A%A4%ED%83%80%EB%B2%85%EC%8A%A4-%EA%B3%BC%EC%A0%9C) : 스타벅스 예시



[Dev Scroll](https://inpa.tistory.com/entry/DB-%F0%9F%93%9A-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%AA%A8%EB%8D%B8%EB%A7%81-1N-%EA%B4%80%EA%B3%84-%F0%9F%93%88-ERD-%EB%8B%A4%EC%9D%B4%EC%96%B4%EA%B7%B8%EB%9E%A8) : 여기 정말 잘 되어 있다. 
